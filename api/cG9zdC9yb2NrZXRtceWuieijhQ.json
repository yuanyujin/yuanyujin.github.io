{"title":"rocketmq安装","date":"2019-08-19T12:45:00.000Z","slug":"rocketmq安装","tags":["linux","rocketmq"],"categories":["rocketmq"],"updated":"2019-08-19T15:31:10.549Z","content":"<h1 id=\"RocketMQ简介\">RocketMQ简介<a href=\"post/rocketmq安装#RocketMQ简介\"></a></h1><p>RocketMQ是阿里巴巴中间件开发的分布式消息系统，曾经经历过很多阿里巴巴大型项目的实际检验。在去年已经正式捐献给Apache开源基金会，成为孵化项目。今年正式升级成为了apache的顶级项目。</p>\n<p>RocketMQ官网地址为：<a href=\"http://rocketmq.apache.org/\" target=\"_blank\" rel=\"noopener\">http://rocketmq.apache.org/</a><br>感兴趣的可以多多查看官网文档</p>\n<h1 id=\"准备工作\">准备工作<a href=\"post/rocketmq安装#准备工作\"></a></h1><h2 id=\"安装环境\">安装环境<a href=\"post/rocketmq安装#安装环境\"></a></h2><p>本文所安装的RocketMQ为4.2.0版本，Linux系统版本为CentOS 7.2，安装目录为/usr/local/software/</p>\n<h2 id=\"准备工具\">准备工具<a href=\"post/rocketmq安装#准备工具\"></a></h2><h3 id=\"Java\">Java<a href=\"post/rocketmq安装#Java\"></a></h3><p>rocketMQ是使用Java开发的，所以需要在Linux系统内安装Java环境。</p>\n<h3 id=\"Maven\">Maven<a href=\"post/rocketmq安装#Maven\"></a></h3><p>项目下载下来之后需要使用Maven编译，所以需要提前安装。</p>\n<h1 id=\"安装RocketMQ\">安装RocketMQ<a href=\"post/rocketmq安装#安装RocketMQ\"></a></h1><h2 id=\"下载RocketMQ\">下载RocketMQ<a href=\"post/rocketmq安装#下载RocketMQ\"></a></h2><ul>\n<li><blockquote>\n<p>wget <a href=\"https://github.com/apache/rocketmq/archive/rocketmq-all-4.2.0.tar.gz\" target=\"_blank\" rel=\"noopener\">https://github.com/apache/rocketmq/archive/rocketmq-all-4.2.0.tar.gz</a></p>\n</blockquote>\n</li>\n<li><p><a href=\"https://mirrors.tuna.tsinghua.edu.cn/apache/\" target=\"_blank\" rel=\"noopener\">https://mirrors.tuna.tsinghua.edu.cn/apache/</a></p>\n</li>\n</ul>\n<h2 id=\"解压文件\">解压文件<a href=\"post/rocketmq安装#解压文件\"></a></h2><blockquote>\n<p>tar -zxvf rocketmq-all-4.2.0.tar.gz</p>\n</blockquote>\n<h2 id=\"编译项目\">编译项目<a href=\"post/rocketmq安装#编译项目\"></a></h2><blockquote>\n<p>mvn -Prelease-all -DskipTests clean install -U</p>\n</blockquote>\n<h2 id=\"配置环境变量\">配置环境变量<a href=\"post/rocketmq安装#配置环境变量\"></a></h2><h3 id=\"编辑-etc-profile\">编辑/etc/profile<a href=\"post/rocketmq安装#编辑-etc-profile\"></a></h3><blockquote>\n<p>export rocketmq=/usr/local/software/rocketmq-rocketmq-all-4.2.0/distribution/target/apache-rocketmq</p>\n</blockquote>\n<blockquote>\n<p>export PATH= $ PATH:$rocketmq/bin</p>\n</blockquote>\n<h3 id=\"刷新环境变量\">刷新环境变量<a href=\"post/rocketmq安装#刷新环境变量\"></a></h3><blockquote>\n<p>source /etc/profile</p>\n</blockquote>\n<h2 id=\"启动Nameserver\">启动Nameserver<a href=\"post/rocketmq安装#启动Nameserver\"></a></h2><blockquote>\n<p>nohup sh mqnamesrv &gt;/usr/local/logs/rocketmqlogs/mqnamesrv.log 2&gt;&amp;1 &amp;</p>\n</blockquote>\n<h2 id=\"启动Broker\">启动Broker<a href=\"post/rocketmq安装#启动Broker\"></a></h2><blockquote>\n<p>nohup sh mqbroker -n localhost:9876 &gt;/usr/local/logs/rocketmqlogs/broker.log 2&gt;&amp;1 &amp;</p>\n</blockquote>\n<h1 id=\"安装问题\">安装问题<a href=\"post/rocketmq安装#安装问题\"></a></h1><h2 id=\"内存分配问题\">内存分配问题<a href=\"post/rocketmq安装#内存分配问题\"></a></h2><p>修改runserver.sh和runbroker.sh两个文件</p>\n<blockquote>\n<p>JAVA_OPT=”${JAVA_OPT} -server -Xms=128m -Xmx=128m -Xmn=128m -XX:MetaspaceSize=128m -XX:MaxMetaspaceSize=256m”</p>\n</blockquote>\n","prev":{"title":"常用工具类","slug":"常用工具类"},"next":{"title":"java性能优化","slug":"性能优化"},"link":"http://yoursite.com/post/rocketmq安装/","toc":[{"title":"RocketMQ简介","id":"RocketMQ简介","index":"1"},{"title":"准备工作","id":"准备工作","index":"2","children":[{"title":"安装环境","id":"安装环境","index":"2.1"},{"title":"准备工具","id":"准备工具","index":"2.2","children":[{"title":"Java","id":"Java","index":"2.2.1"},{"title":"Maven","id":"Maven","index":"2.2.2"}]}]},{"title":"安装RocketMQ","id":"安装RocketMQ","index":"3","children":[{"title":"下载RocketMQ","id":"下载RocketMQ","index":"3.1"},{"title":"解压文件","id":"解压文件","index":"3.2"},{"title":"编译项目","id":"编译项目","index":"3.3"},{"title":"配置环境变量","id":"配置环境变量","index":"3.4","children":[{"title":"编辑/etc/profile","id":"编辑-etc-profile","index":"3.4.1"},{"title":"刷新环境变量","id":"刷新环境变量","index":"3.4.2"}]},{"title":"启动Nameserver","id":"启动Nameserver","index":"3.5"},{"title":"启动Broker","id":"启动Broker","index":"3.6"}]},{"title":"安装问题","id":"安装问题","index":"4","children":[{"title":"内存分配问题","id":"内存分配问题","index":"4.1"}]}]}